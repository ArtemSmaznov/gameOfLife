<style>
body{
	background: gray;
	}
td{
	height: 25px; 
	width: 25px
	}
</style>

<script>
var tableWidth = 5;
var tableHeight = 5;
var gridSize = tableWidth * tableHeight;
var cellColor = "green"


var cellInfo = {id: [], alive: []};


function changeCellState(obj) {
	if ((obj).style.background == cellColor){
		(obj).style.background = "none";
	}
	else{
		(obj).style.background = cellColor;
	}
}


</script>

<center>
<table border=1 cellspacing=0 cellpadding=0>
<script>

for (y = 0; y < tableHeight; y++){
	document.write("<tr>");
	cellInfo.id.push([]);
	cellInfo.alive.push([]);
	for (x = 0; x < tableWidth; x++){
		document.write("<td id='cell_" + x + "_" + y + "' onclick='changeCellState(this)'></td>");
		cellInfo.id[y][x] = "cell_" + x + "_" + y;
		cellInfo.alive[y][x] = false;
	}
	document.write("</tr>");
}

</script>
</table>
<br>
<input type="button" value="Check" onclick="readCells()">
<p>
<div id="result"></div>

<script>
var aliveNeighbours;


function readCells(){

	for (y = 0; y < tableHeight; y++){
		for (x = 0; x < tableWidth; x++){
			if (document.getElementById(cellInfo.id[y][x]).style.background == cellColor){
				cellInfo.alive[y][x] = true;
			}
			else{
				cellInfo.alive[y][x] = false;
			}
		}
	}
	nextCycle();
}

function checkNeighbours(y,x){
	aliveNeighbours = 0;

	
	if (y >= 1 && x >= 1 && cellInfo.alive[y-1][x-1] == true){aliveNeighbours++;}
	if (y >= 1 && cellInfo.alive[y-1][x] == true){aliveNeighbours++;}
	if (y >= 1 && x < tableWidth-1 && cellInfo.alive[y-1][x+1] == true){aliveNeighbours++;}
	if (x >= 1 && cellInfo.alive[y][x-1] == true){aliveNeighbours++;}
	if (x < tableWidth-1 && cellInfo.alive[y][x+1] == true){aliveNeighbours++;}
	if (y < tableHeight-1 && x >= 1 && cellInfo.alive[y+1][x] == true){aliveNeighbours++;}
	if (y < tableHeight-1 && cellInfo.alive[y+1][x] == true){aliveNeighbours++;}
	if (y < tableHeight-1 && x < tableWidth-1 && cellInfo.alive[y+1][x+1] == true){aliveNeighbours++;}
	
	
		return aliveNeighbours;

}

function nextCycle(){
	
	for (y = 0; y < tableHeight; y++){
		for (x = 0; x < tableWidth; x++){
	
			if (checkNeighbours(y,x) == 3){
				document.getElementById(cellInfo.id[y][x]).style.background = cellColor;
			}
			else if (cellInfo.alive[y][x] == true && checkNeighbours(y,x) == 2){
				document.getElementById(cellInfo.id[y][x]).style.background = cellColor;
			}
			else{
				document.getElementById(cellInfo.id[y][x]).style.background = "none";
				
			}
			
		}
	}
		
}


</script>













